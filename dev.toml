# Slash Command: dev (Intent Trigger)
# Gemini CLI Definition (Primary)
name = "dev"
description = "開発サイクル(IDD)を進行するための統合コマンドです。"

# Roo Code Metadata
# @role: Orchestrator
"argument-hint" = "[issue-id] [subcommand]"

prompt = """
ユーザーはIssue駆動開発(IDD)のプロセスを進めようとしています。
`activate_skill` ツールを使って `skill-issue-manager` を有効化し、以下の運用ルールに従って開発サイクルを実行してください。

### 🛠️ IDD 運用ルール (Must-Follow)
1. **GitHub SSOT に基づく設計と承認 (Phase: Start)**:
    - GitHub Issue の Body に記載された要件を確認し、`design.md` および `tasks.md` を作成してください。
    - 必ずユーザーに内容を提示し、タスクの「承認 (Approve)」を得てください。この時点までは実装（Task）に進んではいけません。
    - 要件が不十分な場合は、まず `requirements` コマンドを実行するようユーザーに提案してください。
2. **実装・完了フェーズ (Task to End) の自律的完遂**:
    - ユーザーから「タスク開始」「Approve」等の合意が得られた後は、`Task` (実装) -> `Review` (自己レビュー) -> `End` (PR作成) までを、途中で止まることなく自律的に完遂してください。

### 引数 ({{args}}) の処理
- 引数がIssue番号のみ（例: `123`）の場合: 上記ルールに従い、StartからEndまでを可能な限り自律的に、かつ適切なタイミングで停止しながら進めてください。
- 引数がサブコマンドを含む場合（例: `start 123`, `task 123`）: 指定された特定のフェーズを実行してください。
"""
